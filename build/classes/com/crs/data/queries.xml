<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Employee">
	
	<resultMap id="result" type="Employee">
	    <result property="employeeID" column="employee_id"/>
	    <result property="emailID" column="email"/>
	    <result property="password" column="password"/>
	    <result property="salt" column="salt"/>
	    <result property="firstName" column="first_name"/>
	    <result property="lastName" column="last_name"/>
	    <result property="securityQn" column="sec_question"/>
	    <result property="securityAn" column="sec_answer"/>
	    <result property="phoneNo" column="phone"/>
	    <result property="notifyType" column="notify_type"/>
	    <result property="address" column="address"/>
	    <result property="dateJoined" column="date_joined"/>
	    <result property="points" column="points"/>
    </resultMap>
	
    <select id="getRecord" parameterType="Employee" resultMap="result">
    	SELECT * FROM Employee WHERE employee_id = #{employeeID}
    </select>
    
    <update id="updateRecord" parameterType="Employee">
    	UPDATE Employee SET phone = #{phoneNo}, address = #{address}, password = #{password} WHERE employee_id = #{employeeID}
    </update>
    
    <insert id="insertRecord" parameterType="Employee">
    	INSERT INTO Employee (email,password,salt,first_name,last_name,sec_question,sec_answer,phone,address)
		VALUES (#{emailID},#{password},#{salt},#{firstName},#{lastName},#{securityQn},#{securityAn},#{phoneNo},#{address})  
    </insert>
    
    <update id="updatePoints" parameterType="Employee">
    	UPDATE Employee SET points = #{points} WHERE employee_id = #{employeeID}
    </update>
</mapper>